class q{constructor(e,s,a,i){this.cx=3*e,this.bx=3*(a-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(i-s)-this.cy,this.ay=1-this.cy-this.by,this.css=`cubic-bezier(${e}, ${s}, ${a}, ${i})`,this.toString=this.toString.bind(this),this.solve=this.solve.bind(this),this.solve.toString=this.toString}solve(e){return this._sampleY(this._solveX(e))}toString(){return this.css}_sampleX(e){return((this.ax*e+this.bx)*e+this.cx)*e}_sampleY(e){return((this.ay*e+this.by)*e+this.cy)*e}_sampleDerivativeX(e){return(3*this.ax*e+2*this.bx)*e+this.cx}_solveX(e){for(let r=e,n=0;n<8;n++){const o=this._sampleX(r)-e;if(Math.abs(o)<1e-6)return r;const h=this._sampleDerivativeX(r);if(Math.abs(h)<1e-6)break;r-=o/h}let s=0,a=1,i=e;if(i<s)return s;if(i>a)return a;for(;s<a;){const r=this._sampleX(i);if(Math.abs(r-e)<1e-6)return i;e>r?s=i:a=i,i=(a-s)/2+s}return i}}const _=(t,e,s,a)=>new q(t,e,s,a).solve;var m=Math.pow;const{PI:F,sin:f,cos:z,acos:B}=Math,l=t=>t,H=t=>t*t,j=t=>t*t*t,Q=t=>t===0?t:m(2,10*t-10),G=t=>t===0||t===1?t:m(2,10*t-10)*f(t*10-10.75)*2*F/3,J=t=>1-m(1-t,2),K=t=>1-m(1-t,3),U=t=>1-m(2,-10*t),V=t=>t===0||t===1?t:m(2,-10*t)*f(t*10-.75)*2*F/3+1,W=t=>e=>m(e,t),Z=t=>e=>m(e,2)*((t+1)*e-t),ee=t=>{t=t<0?0:t;for(let e=0,s=1;;e+=s,s/=2)if(t>=(7-4*e)/11)return-m((11-6*e-11*t)/4,2)+m(s,2)},te=t=>e=>m(2,10*(e-1))*z(20*F*t/3*e),se=t=>1-f(B(t)),v=(t=l,e=1)=>s=>e-t(e*(1-s)),ae=(t=l)=>{const e=v(t,2);return s=>s<.5?t(2*s)/2:e(s)/2},b=(t=l)=>{const e=v(t);return s=>s<.5?e(2*s)/2:(t(2*s-1)+1)/2},ie=_(.25,.1,.25,1),R=_(.42,0,1,1),re=_(0,0,.58,1),ne=_(.42,0,.58,1),oe=b(R),he=_(.37,0,.63,1),me=(t,e)=>e((t+1)/2)*2-1,x=1e3,E=1,d=1,g=2*d,le=Date.now()-Math.trunc(performance.now()),ce=(t,e,s)=>Math.max(0,(t-(e+s))*E),_e=(t,e,s)=>{const a=Math.max(0,t/e);if(!s)return Math.min(a,d);const i=a===g?g:a%g;return i>d?g-i:Math.min(i,d)},L=(t,e)=>Math.max(0,Math.floor(t/e)),de=(t,e)=>t%e/e,ue=(t,e,s)=>Math.trunc(e*s/x*t),pe=(t,e)=>Math.ceil(x/t*(e-1));class ge{constructor({name:e=String(performance.now()),shouldPreloadFirstFrame:s=!0,shouldAlternate:a=!1,shouldSkipDuplicates:i=!0,delay:r=0,duration:n,fps:o=60,frames:h,userState:c,onProgress:p=l,onRenderFrame:I}){this._name=e,this._shouldPreloadFirstFrame=s,this._shouldAlternate=a,this._shouldSkipDuplicates=i,this._delay=r/E,this._fps=o,this._frames=h,this._onProgress=p,this._onRenderFrame=I,n===1/0?this._duration=Number.MAX_SAFE_INTEGER:n?this._duration=n:this._duration=pe(o,h.length),this._delayTimer=0,this._startTimestamp=0,this._isFirstFrameRendered=!1,this._latestAnimationFrameId=0,this._latestRenderState=null,this._userState=c,this._onScheduleFrame=this._onScheduleFrame.bind(this),this._onDelayFrame=this._onDelayFrame.bind(this),this._onRerenderFrame=this._onRerenderFrame.bind(this),this._onFrame=this._onFrame.bind(this)}setState(e){this._userState=this._userState||{},this._userState.state=e}getStartTimestamp(){return this._startTimestamp}hasStarted(){return this.getStartTimestamp()>0}restart(e=Date.now()){this.stop(),this.start(e)}start(e=Date.now()){this.hasStarted()||(this._startTimestamp=e,this._isFirstFrameRendered=!1,this._shouldPreloadFirstFrame&&this._onFrame(performance.now(),!1,!1),this._delayTimer=setTimeout(this._onDelayFrame,this._delay))}stop(){this._startTimestamp=0,this._isFirstFrameRendered=!1,this._delayTimer>0&&(clearTimeout(this._delayTimer),this._delayTimer=0),this._latestAnimationFrameId>0&&(cancelAnimationFrame(this._latestAnimationFrameId),this._latestAnimationFrameId=0,this._latestRenderState=null,this._startTimestamp=0)}rerenderIfActive(){!this.hasStarted()||this._latestAnimationFrameId>0||this._delayTimer>0||(this._latestAnimationFrameId=requestAnimationFrame(this._onRerenderFrame))}_onFrame(e,s,a){const i=this._isFirstFrameRendered?le+Math.trunc(e):this._startTimestamp,r=ce(i,this._startTimestamp,this._delay),n=L(r,this._duration),o=this._onProgress(_e(r,this._duration,this._shouldAlternate)),h=ue(this._fps,o,this._duration);if(this._shouldSkipDuplicates&&a&&this._latestRenderState&&this._latestRenderState.frameId===h){s&&(this._latestAnimationFrameId=requestAnimationFrame(this._onScheduleFrame));return}this._latestRenderState={performanceNow:e,duration:this._duration,elapsed:r,iteration:n,progress:o,regress:1-o,frameId:h,frame:this._frames?this._frames[h]:void 0};const c=this._onRenderFrame(this._latestRenderState,this._userState)!==!1;if(this._isFirstFrameRendered=!0,c&&(o<d||this._shouldAlternate)){s&&(this._latestAnimationFrameId=requestAnimationFrame(this._onScheduleFrame));return}this._latestAnimationFrameId=0}_onDelayFrame(){this._delayTimer=0,this._onFrame(performance.now(),!0,!0)}_onScheduleFrame(e){this._onFrame(e,!0,!0)}_onRerenderFrame(e){this._onFrame(e,!1,!1)}}const Ie=t=>{if(t instanceof HTMLImageElement)return t;const e=new Image;return e.src=t,e};class Fe{constructor({images:e,onComplete:s}){this._images=e.map(Ie),this._onComplete=s,this._incompleteImages=new Set,this._isActive=!1,this._removeImageListeners=this._removeImageListeners.bind(this),this._onImageLoad=this._onImageLoad.bind(this),this._onImageError=this._onImageError.bind(this)}getImages(){return this._images}isActive(){return this._isActive}activate(){return this._isActive=!0,this._images.forEach(e=>{e.complete||(this._addImageListeners(e),this._incompleteImages.add(e))}),this._notifyCompleteIfNeeded(),this}deactivate(){return this._incompleteImages.forEach(this._removeImageListeners),this._incompleteImages.clear(),this._isActive=!1,this}_notifyCompleteIfNeeded(){this._incompleteImages.size===0&&this._isActive&&Promise.resolve().then(()=>{this._isActive&&(this._isActive=!1,this._onComplete(this))})}_completeImage(e){this._removeImageListeners(e),this._incompleteImages.delete(e),this._notifyCompleteIfNeeded()}_addImageListeners(e){e.addEventListener("load",this._onImageLoad,{once:!0}),e.addEventListener("error",this._onImageError,{once:!0})}_removeImageListeners(e){e.removeEventListener("load",this._onImageLoad),e.removeEventListener("error",this._onImageError)}_onImageLoad(e){this._completeImage(e.currentTarget)}_onImageError(e){this._completeImage(e.currentTarget)}}const $=t=>t.replace(" ","&nbsp;").replace("<","&lt;"),fe=(t,e="accent-line")=>{var s;t&&(t.innerHTML=((s=t.textContent)!=null?s:"").trim().split(`
`).map(a=>a.trim()).filter(Boolean).map(a=>`
        <span class="${e}">
            ${Array.from(a).map(i=>`<span>${$(i)}</span>`).join("")}
        </span>
      `).join(""))},u=(t,e,s)=>t<e?e:t>s?s:t,{PI:S,min:T,max:y,sin:M,cos:C,atan:ve}=Math,w=180,D=1,P=[0,1],X=[0,1],O=t=>t*S/w,N=t=>t*w/S,Se=t=>N(ve(t)),Te=(t,e,s,a)=>a*(s-t)+e,ye=([t,e],s=0)=>{const a=O(s),i=C(a),r=M(a);return[t*i-e*r,t*r+e*i]},Ae=({xRange:[t,e]=P,yRange:[s,a]=X,onProgress:i=l})=>{if(!(t<=e))throw new Error(`createCalculator(): minX (${t}) shall not be more than maxX (${e})`);return r=>{r=u(r,t,e);const n=(r-t)/(e-t),o=s+(a-s)*i(Number.isFinite(n)?n:D);return u(o,T(s,a),y(s,a))}},be=t=>{let e=1/0,s=-1/0;return t.forEach(({xRange:[a,i],yRange:r},n)=>{if(!(a<=i))throw new Error(`createCompositeCalculator(): minX (${a}) shall not be more than maxX (${i}) in #${n+1}/${t.length}`);e=T(e,a),s=y(s,i),r.length===1&&r.push(r[0])}),a=>{a=u(a,e,s);const i=t.find(({xRange:[k]},A)=>{const Y=A===t.length-1?1/0:t[A+1].xRange[0];return k<=a&&a<Y}),{xRange:[r,n]=P,yRange:[o,h]=X,onProgress:c=l}=i;a=u(a,r,n);const p=(a-r)/(n-r),I=o+(h-o)*c(Number.isFinite(p)?p:D);return u(I,T(o,h),y(o,h))}},Re=({x:t,y:e,width:s,height:a,amplitude:i})=>{const r=2*S/i;return{calculateY:n=>a/2*M(r*(s*n+t))+e,calculateTangent:n=>a/2*r*C(r*(s*n+t))}};export{ge as FrameAnimation,Fe as ImagesCompleteListener,fe as applyAccentTypography,ee as bounce,se as calculateCirc,L as calculateIteration,de as calculateIterationProgress,Te as calculateTangentY1,O as convertDegreesToRadians,N as convertRadiansToDegrees,Se as convertTangentToDegrees,ae as convertToEaseInOut,v as convertToEaseOut,b as convertToEaseOutIn,Z as createBack,Ae as createCalculator,be as createCompositeCalculator,te as createElastic,W as createPower,Re as createSinusCalculator,ie as ease,R as easeIn,j as easeInCubic,G as easeInElastic,Q as easeInExpo,ne as easeInOut,he as easeInOutSine,H as easeInQuad,l as easeLinear,re as easeOut,K as easeOutCubic,V as easeOutElastic,U as easeOutExpo,oe as easeOutIn,J as easeOutQuad,me as easeSine,$ as getLetterHTML,ye as rotatePoint};
